<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="dueto park" />
    <meta name="keywords" content="javascript, 참조, 복사" />
    <meta
      name="description"
      content="참조와 복사의 차이, 참조를 끊고 객체를 복사하는 방법에 대해 알아봅시다!"
    />
    <meta name="Location" content="포도와 고구마의 고장" />

    <title>참조와 복사</title>

    <!-- 참조와 복사 -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../../../apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../../../favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../../../favicon-16x16.png"
    />
    <link rel="manifest" href="../../../site.webmanifest" />
    <link
      href="https://spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="../../css/style.css" />
  </head>

  <body class="mode-day">
    <header class="note-header" aria-label="페이지 조작 영역">
      <div class="container">
        <div class="row">
          <div class="col-xs-4">
            <h1 class="header-title">
              <a href="./index.html" aria-current="page">
                <i aria-hidden="true">🔥</i>
                기초튼튼 이가탄 <span class="visually-hidden">홈으로 이동</span>
                <i aria-hidden="true">🔥</i>
              </a>
            </h1>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-4">
            <section class="toggle" aria-labelledby="toggle-title">
              <h2 id="toggle-title">Day/Night Switch</h2>

              <button
                class="toggle-button"
                type="button"
                aria-label="야간모드 켜기"
                aria-controls="page-mode-state"
              ></button>
              <strong
                id="page-mode-state"
                class="visually-hidden"
                aria-live="polite"
              >
                야간 모드 꺼짐
              </strong>
            </section>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-4">
            <div class="menu">
              <section
                class="header-button-group"
                aria-labelledby="header-button-group"
                role="tablist"
              >
                <h2 id="header-button-group" class="visually-hidden">
                  메뉴 열기
                </h2>

                <div>
                  <!-- NOTE: menu-buttons.js -->
                </div>
              </section>

              <nav id="nav" class="nav" data-role="tabpanel">
                <h2 class="visually-hidden">메뉴</h2>
                <button
                  class="nav-close"
                  type="button"
                  aria-label="메뉴 닫기"
                ></button>

                <article class="nav-html">
                  <h3 class="nav-title"><i aria-hidden="true">😈</i> html</h3>
                  <ol class="nav-list">
                    <!-- NOTE: nav.js -->
                  </ol>
                </article>
                <article class="nav-css">
                  <h3 class="nav-title"><i aria-hidden="true">😇</i>css</h3>
                  <ol class="nav-list">
                    <!-- NOTE: nav.js -->
                  </ol>
                </article>
                <article class="nav-javascript">
                  <h3 class="nav-title">
                    <i aria-hidden="true">😎</i>javascript
                  </h3>
                  <ol class="nav-list">
                    <!-- NOTE: nav.js -->
                  </ol>
                </article>
                <article class="nav-cross-browsing">
                  <h3 class="nav-title">
                    <i aria-hidden="true">👽</i>cross-browsing
                  </h3>
                  <ol class="nav-list">
                    <!-- NOTE: nav.js -->
                  </ol>
                </article>
                <article class="nav-atom">
                  <h3 class="nav-title"><i aria-hidden="true">🙌</i>atom</h3>
                  <ol class="nav-list">
                    <!-- NOTE: nav.js -->
                  </ol>
                </article>
                <article class="nav-git">
                  <h3 class="nav-title"><i aria-hidden="true">💪</i>git</h3>
                  <ol class="nav-list">
                    <!-- NOTE: nav.js -->
                  </ol>
                </article>
                <article class="nav-vscode">
                  <h3 class="nav-title"><i aria-hidden="true">🙈</i>vscode</h3>
                  <ol class="nav-list">
                    <!-- NOTE: nav.js -->
                  </ol>
                </article>
              </nav>
            </div>
          </div>
        </div>

        <div class="time">
          <div class="time-upload">
            작성 날짜: <time datetime="2021-3-11">2021년 03월 11일</time>
          </div>
          <div class="time-last">
            수정 날짜: <time datetime="2021-7-3">2021년 07월 03일</time>
          </div>
        </div>
      </div>
    </header>

    <main class="note-main" aria-label="본문 영역">
      <article class="container" aria-labelledby="main-title">
        <div class="row">
          <div class="col-xs-4">
            <h2 id="main-title" class="main-title">
              <strong>
                <i aria-hidden="true">👿</i>
                참조와 복사
                <i aria-hidden="true">👿</i>
              </strong>
            </h2>

            <section class="summary" aria-labelledby="summary-title">
              <h3 id="summary-title" class="main-article-title">
                <i aria-hidden="true">👽</i>
                개요
              </h3>

              <p>
                참조와 복사의 차이, 참조를 끊고 객체를 복사하는 방법에 대해
                알아보자.
              </p>
            </section>

            <section
              class="copy-reference"
              aria-labelledby="copy-reference-title"
            >
              <h3 id="copy-reference-title" class="main-article-title">
                <i aria-hidden="true">🙋</i>
                복사와 참조
              </h3>

              <div>
                <dl class="main-dl">
                  <div>
                    <dt>복사</dt>
                    <dd>변수의 대상: 숫자형, 문자형, 불린(Boolean)</dd>
                    <dd>변수는 독립적 동작</dd>
                    <dd>깊은 복사</dd>
                  </div>
                  <div>
                    <dt>참조</dt>
                    <dd>변수의 대상: 객체(객체, 배열, 함수)</dd>
                    <dd>
                      힌 쪽의 변수를 수정하면 다른 한 쪽의 변수도 자동으로
                      수정됨
                    </dd>
                    <dd>얕은 복사</dd>
                  </div>
                </dl>

                <ul
                  class="copy-reference-example"
                  aria-label="복사와 참조 예시"
                >
                  <li class="main-item">
                    <p>
                      <strong>복사</strong>
                      <span class="visually-hidden">예시 코드</span>
                    </p>

                    <pre class="main-code">
                      <code>
                        var 원본 = '나는 오이';
                        var 복사 = 값;
        
                        console.log(복사); // 나는 오이
                        복사 = '고구만데요?'
                        console.log(복사); // 고구만데요?
                        console.log(원본); // 나는 오이
                      </code>
                    </pre>
                  </li>
                  <li class="main-item">
                    <p>
                      <strong>참조-객체</strong>
                      <span class="visually-hidden">예시 코드</span>
                    </p>

                    <pre class="main-code">
                      <code>
                        var 오이 = {
                          친구: "고구마",
                        };
    
                        var 귤 = 오이;
                        console.log(귤.친구); // 고구마
    
                        귤.친구 = "저는 친구 없어요";
    
                        console.log(귤.친구); // 저는 친구 없어요
                        console.log(오이.친구); // 저는 친구 없어요
                      </code>
                    </pre>
                  </li>
                  <li class="main-item">
                    <p>
                      <strong>참조-배열</strong>
                      <span class="visually-hidden">예시 코드</span>
                    </p>

                    <pre class="main-code">
                      <code>
                        var 쌉니다싸요 = ["포도", "오렌지", "수박"];
    
                        var 살래요 = 쌉니다싸요;
                        console.log(살래요); // ["포도", "오렌지", "수박"]
    
                        살래요[0] = '사과';
    
                        console.log(살래요); // ["사과", "오렌지", "수박"]
                        console.log(쌉니다싸요); // ["사과", "오렌지", "수박"]
                      </code>
                    </pre>
                  </li>
                  <li class="main-item">
                    <p>
                      <strong>참조-함수</strong>
                      <span class="visually-hidden">예시 코드</span>
                    </p>

                    <pre class="main-code">
                      <code>
                        var 기영이 = function() {};
                        기영이.바나나 = '고소한 맛이 나고';
    
                        var 기철이 = 기영이;
                        console.log(기철이.바나나); // 고소한 맛이 나고
    
                        기철이.바나나 = '만찐두빵으로 바꿔줘요';
                        console.log(기철이.바나나); // 만찐두빵으로 바꿔줘요
                        console.log(기영이.바나나); // 만찐두빵으로 바꿔줘요
                      </code>
                    </pre>
                  </li>
                </ul>
              </div>
            </section>

            <section class="object-copy" aria-labelledby="object-copy-title">
              <h3 id="object-copy-title" class="main-article-title">
                <i aria-hidden="true">💌</i>
                객체 복사 방법
              </h3>

              <div>
                <p>
                  <strong>
                    (참고) 빈 객체 선언은 '이건 독립된 객체입니다'라는 의미를
                    내포한다.
                  </strong>
                </p>

                <dl class="main-dl" aria-label="객체 복사 방법">
                  <div>
                    <dt>값 직접 넣기</dt>
                    <dd>복사본 객체의 속성에 원본의 값을 저장하는 방식</dd>
                    <dd>속성의 개수만큼 명령해야 하므로 비효율적</dd>
                  </div>
                  <div>
                    <dt>forEach를 사용</dt>
                    <dd>반복문 사용으로 효율적인 값 넣기를 구현한 방식</dd>
                    <dd>일차원 객체는 깊은 복사</dd>
                    <dd>이차원 객체부터 얕은 복사</dd>
                    <dd>
                      <strong class="underline">
                        원시값은 복사되고 객체는 참조된다는 특성으로 인해 일차원
                        객체에서만 깊은 복사가 이루어진다.
                      </strong>
                    </dd>
                  </div>
                  <div>
                    <dt>JSON을 사용</dt>
                    <dd>참조관계를 끊어내고 복사하는 방식</dd>
                    <dd>성능 최악</dd>
                    <dd>원본 객체가 이차원 이상이면 사용한다.</dd>
                  </div>
                </dl>

                <ul aria-label="객체 복사 방법">
                  <li class="main-item">
                    <p>
                      값 직접 넣기
                      <span class="visually-hidden">예시 코드</span>
                    </p>

                    <pre class="main-code">
                      <code>
                        var 원본 = {a: 1, b: 2};
                        var 복사본 = {};
                        복사본.a = 원본.a;
                        복사본.b = 원본.b;
                        console.log(복사본.a, 복사본.b); // 1 2
      
                        복사본.a = 3;
                        console.log(복사본.a); // 3
                        console.log(원본.a); // 1
                      </code>
                    </pre>
                  </li>
                  <li class="main-item">
                    <p>
                      forEach 사용하기
                      <span class="visually-hidden">예시 코드</span>
                    </p>

                    <div>
                      <pre class="main-code">
                        <code>
                          var 오이 = {a: 1, b: {c: 1}};
                          var 토마토 = {}; // 빈 객체 선언
                          Object.keys(오이).forEach(function(키) {
                            토마토[키] = 오이[키];
                          });
        
                          토마토.a = 7;
                          console.log(토마토.a); // 7
                          console.log(오이.a); // 1
        
                          토마토.b.c = "똥";
                          console.log(토마토.b.c); //똥
                          console.log(오이.b.c); //똥
                        </code>
                      </pre>

                      <div class="code-desc">
                        <p>
                          똥이 나왔다. 오이.b.c는 1이 나와야 하는데!<br />
                          코드를 풀어서 써보자.<br />
                          토마토.a = 오이.a; // a속성의 값은 원시값이라
                          복사됨.<br />
                          토마토.b = 오이.b; // b속성의 값은 객체라서 참조됨.
                        </p>
                      </div>
                    </div>
                  </li>
                  <li class="main-item">
                    <p>
                      JSON 사용하기
                      <span class="visually-hidden">예시 코드</span>
                    </p>

                    <pre class="main-code">
                      <code>
                        var 원본 = {a: 1, b: {c: 1}};
                        var 복사본 = JSON.parse(JSON.stringify(원본));
                      </code>
                    </pre>
                  </li>
                </ul>
              </div>
            </section>

            <section
              class="reference-check"
              aria-labelledby="reference-check-title"
            >
              <h3 id="reference-check-title" class="main-article-title">
                <i aria-hidden="true">💧</i>
                참조관계인지 확인
              </h3>

              <div>
                <div class="desc">
                  <p>
                    변수들이 참조관계인지 알고싶다면 비교연산자로 비교하면된다.
                    true면 참조관계다.
                  </p>
                  <p>
                    <strong class="box-white">
                      console.log(원본 === 복사본); //true
                    </strong>
                  </p>
                  <p>
                    모양이 같아도 위의 코드가 모두 true를 출력하진 않는다.
                    <br />
                    위에서 언급했듯이 객체는 괄호를 써넣는 순간에 서로 다른
                    객체라는 의미를 내포한다.
                  </p>
                  <p>객체를 대입하면 참조관계로 변환된다.</p>
                </div>

                <div class="code">
                  <pre class="main-code">
                    <code>
                      var 포도 = {a: 1, b: 2, c: 3};
                      var 망고 = {a: 1, b: 2, c: 3};
        
                      console.log(포도 === 망고); //false
        
                      망고 = 포도;
        
                      console.log(포도 === 망고); //true
                    </code>
                  </pre>
                </div>
              </div>
            </section>

            <section class="shallow-copy" aria-labelledby="shallow-copy-title">
              <h3 id="shallow-copy-title" class="main-article-title">
                <i aria-hidden="true">💬</i>
                얕은 복사 방법
              </h3>

              <div>
                <ul class="types">
                  <li>ForEach</li>
                  <li>slice</li>
                  <li>Object.assign</li>
                </ul>

                <div class="code">
                  <pre class="main-code">
                    <code>
                      //forEach 문
                      Object.keys(origin).forEach(function(key) {
                        copy[key] = origin[key];
                      });

                      //slice (배열)
                      var copy2 = origin.slice();
      
                      //Object.assign 문
                      Object.assign(copy3, origin);
                    </code>
                  </pre>
                </div>
              </div>
            </section>
          </div>
        </div>
      </article>
    </main>

    <footer class="note-footer">
      <div class="container">
        <div class="row">
          <div class="col-xs-4">
            <blockquote
              class="reference"
              cite="https://www.youtube.com/watch?v=vV6Le05CJ1U&list=PLcqDmjxt30Rtbxbh4eJREOVekql_kWVmu&index=78"
            >
              <strong>
                정보 출처: "Youtube - ZeroCho의 JS 중급 강좌 11-5. 참조와 복사",
                Youtube, 2021년 3월 11일 접속,
              </strong>
              <cite class="reference-url">
                <a
                  href="https://www.youtube.com/watch?v=vV6Le05CJ1U&list=PLcqDmjxt30Rtbxbh4eJREOVekql_kWVmu&index=78"
                >
                  Youtube - ZeroCho의 JS 중급 강좌 11-5. 참조와 복사
                </a>
              </cite>
            </blockquote>

            <blockquote
              class="reference"
              cite="https://gist.github.com/rxaviers/7360908"
            >
              <strong>
                이모티콘 출처: "rxaviers github / gist:7360908 repository",
                Github, 2021년 3월 11일 접속,
              </strong>
              <cite class="reference-url">
                <a href="https://gist.github.com/rxaviers/7360908">
                  rxaviers github / gist:7360908 repository
                </a>
              </cite>
            </blockquote>
          </div>
        </div>
      </div>
    </footer>

    <script src="../../assets/data.js"></script>
    <script src="../../assets/app/loader.js"></script>
  </body>
</html>
